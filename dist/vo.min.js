!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("vo",[],e):"object"==typeof exports?exports.vo=e():t.vo=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return t[r].call(u.exports,u,u.exports,e),u.l=!0,u.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){r(this,t),this.subs=[]}return u(t,[{key:"bind",value:function(t){var e=this.subs;e.indexOf(t)===-1&&e.push(t)}},{key:"unbind",value:function(t){var e=this.subs,n=e.indexOf(t);n!==-1&&e.splice(n,1)}},{key:"notify",value:function(){var t=this.subs,e=[];t.forEach(function(t){t.active&&(t.run(),e.push(t))}),this.subs=e}}]),t}();e.default=i;var o=i,c=[];o.target=null,o.pushStack=function(t){c.push(t),o.target=t},o.popStack=function(){o.target=c.pop()}},function(t,e,n){"use strict";function r(t){return Object.prototype.toString.call(t)}Object.defineProperty(e,"__esModule",{value:!0});e.isArray=Array.isArray,e.isPlainObject=function(t){return null!==t&&"[object Object]"===r(t)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),c=n(0),a=r(c),s=1,f=function(){function t(e,n){u(this,t),this.id=s++,this.fn=n,this.exp=e,this.pubs=[],this.token=0,this.active=!0,this.value=this.get_()}return i(t,[{key:"warn_",value:function(){var t=this.fn.toString();return t=t.replace(/^[^{]+{\s*/,""),t=t.replace(/\s*}$/,"")}},{key:"suid_",value:function(){return this.id+"-"+this.token}},{key:"reset_",value:function(){this.token++}},{key:"clear_",value:function(){var t=this,e=this.suid_(),n=this.pubs;this.pubs=n.filter(function(n){var r=n.suid===e;return r||n.unbind(t),r})}},{key:"add",value:function(t){var e=this.suid_(),n=this.pubs;n.indexOf(t)===-1&&(n.push(t),t.bind(this)),t.suid=e}},{key:"get_",value:function(){a.default.pushStack(this),this.reset_();var t=this.exp();return this.clear_(),a.default.popStack(),t}},{key:"run",value:function(){var t=this.get_(),e=this.value;try{this.fn(t,e)}catch(t){var n=this.text_(),r=t.message||"unknown";throw(0,o.warn)('error in subscriber "'+n+'": '+r),t}this.value=t}}]),t}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Array.prototype,u=Object.create(r),i=["push","pop","shift","unshift","splice","sort","reverse"];i.forEach(function(t){var e=r[t];u[t]=function(){var n=this.__ob__,r=[].slice.call(arguments,0),u=e.apply(this,r),i=[];switch(t){case"push":case"unshift":i=r;break;case"splice":i=r.slice(2)}return n.walk(i),n.pub.notify(),u}}),u.set=function(t,e){return this.splice(t,1,e)},u.del=function(t){return this.splice(t,1)},e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){function r(){var t=p.default.target;t&&t.add(c)}function u(){c.notify()}function i(t){n=t,a=o(n),a&&(a.pub=c)}var c=new p.default,a=o(n);a&&(a.pub=c),Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return r(),n},set:function(t){i(t),u()}})}function o(t){return t.hasOwnProperty("__ob__")||((0,f.isArray)(t)||(0,f.isPlainObject)(t))&&(t.__ob__=new d(t)),t.__ob__}function c(t,e,n,r){var u=void 0;"function"==typeof t?(r=n,u=t,n=e):u=function(){var n=e.split("."),r=t;return n.forEach(function(t){r=r[t]}),r};var i=new b.default(u,n,r);return r.sync&&n.call(i,i.value),function(){i.active=!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.watch=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.observe=o;var f=n(1),l=n(0),p=r(l),h=n(2),b=r(h),y=n(3),v=r(y),d=function(){function t(e){u(this,t),this.obj=e,this.pub=null,(0,f.isArray)(e)&&(e.__proto__=v.default),this.walk(e)}return s(t,[{key:"walk",value:function(t){(0,f.isArray)(t)?t.forEach(function(t){o(t)}):(0,f.isPlainObject)(t)&&Object.keys(t).forEach(function(e){i(t,e,t[e])})}},{key:"watch",value:function(t,e,n){var r="object"===("undefined"==typeof n?"undefined":a(n))?n:{sync:n};"function"==typeof t?c(t.bind(this.obj),e,r):c(this.obj,t,e,r)}}]),t}();e.watch=c}])});