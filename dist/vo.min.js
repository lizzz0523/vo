!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("vo",[],t):"object"==typeof exports?exports.vo=t():e.vo=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){r(this,e),this.subs=[]}return i(e,[{key:"bind",value:function(e){var t=this.subs;t.indexOf(e)===-1&&t.push(e)}},{key:"unbind",value:function(e){var t=this.subs,n=t.indexOf(e);n!==-1&&t.splice(n,1)}},{key:"notify",value:function(){var e=this.subs,t=[];e.forEach(function(e){e.active&&(e.run(),t.push(e))}),this.subs=t}}]),e}();t.default=u;var o=u,c=[];o.target=null,o.pushStack=function(e){c.push(e),o.target=e},o.popStack=function(){o.target=c.pop()}},function(e,t,n){"use strict";function r(e){return Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0});t.keys=Object.keys,t.defineProperty=Object.defineProperty,t.defineProperties=Object.defineProperties,t.hasOwnProperty=function(e,t){return e.hasOwnProperty(t)},t.isArray=Array.isArray,t.isPlainObject=function(e){return null!==e&&"[object Object]"===r(e)},t.nextTick=function(e){Promise.resolve().then(e)},t.warn=function(e){"development"===production&&console.warn(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),c=r(o),a=n(1),f=1,s=function(){function e(t,n){i(this,e),this.id=f++,this.fn=n,this.exp=t,this.pubs=[],this.token=0,this.active=!0,this.value=this.get_()}return u(e,[{key:"warn_",value:function(){var e=this.fn.toString();return e=e.replace(/^[^{]+{\s*/,""),e=e.replace(/\s*}$/,"")}},{key:"suid_",value:function(){return this.id+"-"+this.token}},{key:"reset_",value:function(){this.token++}},{key:"clear_",value:function(){var e=this,t=this.suid_(),n=this.pubs;this.pubs=n.filter(function(n){var r=n.suid===t;return r||n.unbind(e),r})}},{key:"add",value:function(e){var t=this.suid_(),n=this.pubs;n.indexOf(e)===-1&&(n.push(e),e.bind(this)),e.suid=t}},{key:"get_",value:function(){c.default.pushStack(this),this.reset_();var e=this.exp();return this.clear_(),c.default.popStack(),e}},{key:"run",value:function(){var e=this.get_(),t=this.value;try{this.fn(e,t)}catch(e){var n=this.text_(),r=e.message||"unknown";throw(0,a.warn)('error in subscriber "'+n+'": '+r),e}this.value=e}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["push","pop","shift","unshift","splice","sort","reverse"],i=Array.prototype,u=Object.create(i);r.forEach(function(e){var t=i[e];u[e]=function(){var n=this.__ob__,r=[].slice.call(arguments,0),i=t.apply(this,r),u=[];switch(e){case"push":case"unshift":u=r;break;case"splice":u=r.slice(2)}return n.walk(u),n.pub.notify(),i}}),u.set=function(e,t){return this.splice(e,1,t)},u.del=function(e){return this.splice(e,1)},t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){var t={};return(0,v.keys)(e).forEach(function(n){function r(){var e=p.default.target;e&&e.add(a)}function i(){a.notify()}function u(e){c=e,f=o(c),f&&(f.pub=a)}var c=e[n],a=new p.default,f=o(c);f&&(f.pub=a),t[n]={configurable:!0,enumerable:!0,get:function(){return r(),c},set:function(e){u(e),i()}}}),(0,v.defineProperties)(e,t)}function o(e){return(0,v.hasOwnProperty)(e,"__ob__")||((0,v.isArray)(e)||(0,v.isPlainObject)(e))&&(0,v.defineProperty)(e,"__ob__",{value:new _(e),writable:!0,configurable:!0}),e.__ob__}function c(e){var t=o(e);return(0,v.keys)(e).forEach(function(e){(0,v.defineProperty)(t,e,{configurable:!0,enumerable:!0,get:function(){return t.obj[e]},set:function(n){t.obj[e]=n}})}),t}function a(e,t,n,r){var i=void 0;"function"==typeof e?(r=n,i=e,n=t):i=function(){var n=t.split("."),r=e;return n.forEach(function(e){r=r[e]}),r};var u=new y.default(i,n,r);return r.sync&&(0,v.nextTick)(function(){n.call(u,u.value)}),function(){u.active=!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.watch=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.proxy=c;var l=n(0),p=r(l),h=n(2),y=r(h),b=n(3),d=r(b),v=n(1),_=function(){function e(t){i(this,e),(0,v.isArray)(t)&&(t.__proto__=d.default),this.obj=this.walk(t),this.pub=null}return s(e,[{key:"walk",value:function(e){return(0,v.isArray)(e)?e.forEach(function(e){o(e)}):(0,v.isPlainObject)(e)&&(e=u(e)),e}},{key:"watch",value:function(e,t,n){var r="object"===("undefined"==typeof n?"undefined":f(n))?n:{sync:n};return"function"==typeof e?a(e.bind(this),t,r):a(this,e,t,r),this}}]),e}();t.watch=a}])});